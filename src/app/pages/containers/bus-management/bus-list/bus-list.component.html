<div class="container-fluid">

  <div class="row mt-3">
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
      <button class="btn btn-sm btn-primary btn-themed mb-2" (click)="back()" type="button">
        <i class="fas fa-chevron-left tex-green smallfont"></i>
        Back to Dashboard</button>
    </div>
    <div class="col-6">
      <h1 class="h5 fw-bold my-2">Bus List</h1>
    </div>

    <div class="col">
      <div class="input-group mb-3">
        <span class="input-group-text input_group_icon" id="basic-addon1"><i class="fas fa-search"></i></span>
        <input type="text" class="form-control custom_form_control" [(ngModel)]="searchText" placeholder="Search"
          aria-label="Username" aria-describedby="basic-addon1">
      </div>
    </div>
  </div>

  <!-- <h1 class="h5 fw-bold my-2">Bus list</h1> -->
  <div class="row">

  <div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button class="btn btn-sm btn-primary btn-themed mb-2" [routerLink]="'/pages/bus-management/add-bus'" type="button">
      <i class="fas fa-bus-alt tex-green smallfont"></i>
      Add New Bus</button>
  </div>
  </div>
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-4">

    <ng-container *ngFor="let bus of busList  | filter : searchText;; let i = index;">
      <div class="col">
        <div class="card shadow">
          <div class="card-body p-2 m-0">
            <div class="row p-0 m-0">
              <div class="col-12">

                <ul class="list-group mb-3">
                  <li class="d-flex justify-content-between lh-sm">
                    <div>
                      <p class="h5 fw-bold text-bold-condensed text-themed m-0 p-0">
                        <i class="fas fa-bus-alt tex-green small"></i>
                        {{bus.BUS_RUTE_NO}}</p>
                    </div>
                    <span class="text-muted smallfont"><i class="fas fa-ellipsis-v text-themed small"></i></span>
                  </li>
                  <li class="d-flex justify-content-between lh-sm">
                    <div>
                      <small class="text-muted smallfont">In-charge</small>
                    </div>
                    <span class="text-muted smallfont">{{bus.BUS_RUTE_INCH_NAME}}</span>
                  </li>
                  <li class="d-flex justify-content-between lh-sm">
                    <div>
                      <small class="text-muted smallfont">Bus Route</small>
                    </div>
                    <span class="text-muted smallfont">{{bus.BUS_RUTE_CD}}</span>
                  </li>
                  <li class="d-flex justify-content-between lh-sm">
                    <div>
                      <small class="text-muted smallfont">Driver Name</small>
                    </div>
                    <span class="text-muted smallfont">{{bus.BUS_RUTE_DRIVER_NAME}}</span>
                  </li>

                </ul>

                <div class="row">
                  <div class="col-3">
                    <button type="button" class="btn btn-sm btn-primary btn-light text-themed shadow"
                      style=" width:2rem; height:2rem;">
                      <i class="fas fa-map-marked-alt small"></i>
                    </button>
                  </div>
                  <div class="col-3">
                    <button type="button" class="btn btn-sm btn-primary btn-light text-themed shadow"
                      style=" width:2rem; height:2rem;">
                      <i class="fas fa-phone small"></i>
                    </button>
                  </div>
                  <div class="col-3">
                    <button type="button" class="btn btn-sm btn-primary btn-light text-themed shadow"
                      style=" width:2rem; height:2rem;">
                      <i class="fas fa-location-arrow small"></i>
                    </button>
                  </div>
                  <div class="col-3">
                    <button type="button" (click)="openPopup(bus)" data-bs-toggle="modal"
                      data-bs-target="#staticBackdrop" class="btn btn-sm btn-primary btn-light text-themed shadow"
                      style=" width:2rem; height:2rem;">
                      <i class="fas fa-eye small"></i>
                    </button>
                  </div>
                </div>


              </div>

            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>


<!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
  Launch static backdrop modal
</button> -->


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" [ngStyle]="{'display':displayStyle}" data-bs-backdrop="static"
  data-bs-keyboard="false" tabindex="1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h6 class="modal-title" id="staticBackdropLabel">Detail View</h6>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" *ngIf="modalData">
        <table class="table table-striped table-hover">

          <tbody>
            <tr>
              <th scope="row">Academic ID :</th>
              <td>{{modalData.ACADEMIC_ID}}</td>
            </tr>
            <tr>
              <th scope="row">Bus Route :</th>
              <td>{{modalData.BUS_RUTE_CD}}</td>

            </tr>
            <tr>
              <th scope="row">Bus Reg No:</th>
              <td>{{modalData.BUS_RUTE_NO}}</td>
            </tr>
            <tr>
              <th scope="row">Driver Name</th>
              <td>{{modalData.BUS_RUTE_DRIVER_NAME}}</td>
            </tr>
            <tr>
              <th scope="row">Driver Mobile</th>
              <td>{{modalData.BUS_RUTE_DRIVER_NO}}</td>
            </tr>
            <tr>
              <th scope="row">In-Charge Name</th>
              <td>{{modalData.BUS_RUTE_INCH_NAME}}</td>
            </tr>
            <tr>
              <th scope="row">In-Charge Mobile</th>
              <td>{{modalData.BUS_RUTE_INCH_NO}}</td>
            </tr>
            <tr>
              <th scope="row">Insurance Details</th>
              <td>{{modalData.BUS_RUTE_INS_DTL}}</td>
            </tr>
            <!-- <tr>
              <th scope="row">1</th>
              <td>{{modalData.BUS_INSURANCE_DETAILS}}</td>
            </tr> -->
            <tr>
              <th scope="row">FC Details</th>
              <td>{{modalData.BUS_FC_DETAILS}}</td>

            </tr>
            <tr>
              <th scope="row">Cleaner Name</th>
              <td>{{modalData.BUS_CLEANER_NAME}}</td>
            </tr>
            <tr>
              <th scope="row">Cleaner Mobile</th>
              <td>{{modalData.BUS_CLEANER_MOBILE_NO}}</td>
            </tr>
            <tr>
              <th scope="row">Camera Details</th>
              <td>{{modalData.BUS_CAMERA_DETAILS}}</td>
            </tr>
            <tr>
              <th scope="row">GPRS Details</th>
              <td>{{modalData.BUS_GPRS_DETAILS}}</td>
            </tr>
            <tr>
              <th scope="row">Seat Capacity</th>
              <td>{{modalData.BUS_SEAT_CAPACITY}}</td>
            </tr>
            <tr>
              <th scope="row">Comments</th>
              <td>{{modalData.COMMENTS}}</td>
            </tr>
          </tbody>
        </table>
        <!-- <pre>{{modalData |json}}</pre> -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal"
          (click)="closePopup()">Close</button>
        <!-- <button type="button" class="btn btn-primary">Understood</button> -->
      </div>
    </div>
  </div>
</div>
<!-- 
<pre>

  {{busList |json}}
</pre> -->